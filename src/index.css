@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 font-sans;
  }

  /* Prevent browser autocomplete from overriding dark theme */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 1000px rgb(51 65 85 / 0.5) inset !important;
    -webkit-text-fill-color: rgb(226 232 240) !important;
    border: 2px solid rgb(100 116 139) !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* Dark mode autocomplete - force same color as Input component */
  .dark input:-webkit-autofill,
  .dark input:-webkit-autofill:hover,
  .dark input:-webkit-autofill:focus,
  .dark input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 1000px rgb(51 65 85 / 0.5) inset !important;
    -webkit-text-fill-color: rgb(226 232 240) !important;
    border: 2px solid rgb(100 116 139) !important;
  }
}

/* Select Dropdown Options Styling */
/* Note: Browser support for styling <option> elements is very limited.
   Only basic properties like background-color, color, and font-weight work consistently.
   Properties like :hover, padding, and margin are not supported on <option> elements. */

select option {
  background-color: #ffffff;
  color: #1e293b;
  font-weight: 500;
}

select option:checked,
select option:focus {
  background: linear-gradient(to right, #dbeafe, #e0f2fe) !important;
  color: #0369a1 !important;
  font-weight: 600;
}

/* Dark mode select options */
.dark select option {
  background-color: #334155;
  color: #f1f5f9;
}

.dark select option:checked,
.dark select option:focus {
  background: linear-gradient(to right, #1e3a8a, #1e40af) !important;
  color: #bfdbfe !important;
  font-weight: 600;
}

/* ====================================
   React DatePicker Dark Mode Styling
   ==================================== */

/* Container */
.react-datepicker-wrapper {
  width: 100%;
}

.react-datepicker-popper {
  z-index: 9999;
}

/* Light Mode Calendar */
.react-datepicker {
  font-family: inherit;
  border: 2px solid rgb(226 232 240);
  /* slate-200 */
  border-radius: 0.75rem;
  /* rounded-xl */
  background-color: #ffffff;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.react-datepicker__header {
  background-color: rgb(248 250 252);
  /* slate-50 */
  border-bottom: 2px solid rgb(226 232 240);
  border-top-left-radius: 0.75rem;
  border-top-right-radius: 0.75rem;
  padding-top: 0.75rem;
}

.react-datepicker__current-month {
  font-weight: 600;
  font-size: 0.95rem;
  color: rgb(30 41 59);
  /* slate-800 */
}

.react-datepicker__day-name {
  color: rgb(71 85 105);
  /* slate-600 */
  font-weight: 600;
  font-size: 0.75rem;
}

.react-datepicker__day {
  color: rgb(51 65 85);
  /* slate-700 */
  border-radius: 0.5rem;
  transition: all 0.15s;
}

.react-datepicker__day:hover {
  background-color: rgb(241 245 249);
  /* slate-100 */
  border-radius: 0.5rem;
}

.react-datepicker__day--selected,
.react-datepicker__day--keyboard-selected {
  background-color: rgb(59 130 246);
  /* blue-500 */
  color: white;
  font-weight: 600;
}

.react-datepicker__day--disabled {
  color: rgb(203 213 225);
  /* slate-300 */
}

/* Dark Mode Calendar */
.dark .react-datepicker {
  background-color: rgb(30 41 59);
  /* slate-800 */
  border-color: rgb(71 85 105);
  /* slate-600 */
}

.dark .react-datepicker__header {
  background-color: rgb(51 65 85);
  /* slate-700 */
  border-bottom-color: rgb(71 85 105);
}

.dark .react-datepicker__current-month {
  color: rgb(226 232 240);
  /* slate-200 */
}

.dark .react-datepicker__day-name {
  color: rgb(148 163 184);
  /* slate-400 */
}

.dark .react-datepicker__day {
  color: rgb(148 163 184);
  /* slate-400 */
}

.dark .react-datepicker__day:hover {
  background-color: rgb(71 85 105);
  /* slate-600 */
  color: rgb(241 245 249);
  /* slate-100 */
}

.dark .react-datepicker__day--selected,
.dark .react-datepicker__day--keyboard-selected {
  background-color: rgb(59 130 246);
  /* blue-500 */
  color: white;
}

.dark .react-datepicker__day--disabled {
  color: rgb(71 85 105);
  /* slate-600 */
}

/* Navigation arrows */
.dark .react-datepicker__navigation-icon::before {
  border-color: rgb(148 163 184);
}

.dark .react-datepicker__navigation:hover *::before {
  border-color: rgb(226 232 240);
}

/* Today highlight */
.react-datepicker__day--today {
  font-weight: 600;
}

.dark .react-datepicker__day--today {
  color: rgb(96 165 250);
  /* blue-400 */
}
/* Portal container for modal usage */
.react-datepicker-popper[data-placement^="bottom"] {
  margin-top: 8px;
}

.react-datepicker-popper[data-placement^="top"] {
  margin-bottom: 8px;
}

/* Ensure portal renders above modal */
.react-datepicker__portal {
  z-index: 10000 !important;
}

.react-datepicker__portal .react-datepicker {
  border: 2px solid rgb(226 232 240);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.dark .react-datepicker__portal .react-datepicker {
  border-color: rgb(71 85 105);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
}
